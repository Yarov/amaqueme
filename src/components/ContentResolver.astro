---
/**
 * Componente que detecta el tipo de contenido y renderiza el componente adecuado
 */
import PostContent from './PostContent.astro';
import CategoryContent from './CategoryContent.astro';
import PageContent from './PageContent.astro';

interface Props {
  content: {
    type: string;
    data: any;
    meta: {
      title: string;
      posts?: any[];
      featuredPosts?: any[];
      regularPosts?: any[];
      pagination?: {
        prev: string | null;
        next: string | null;
        currentPage: number;
        totalPages: number;
      } | null;
      featuredImage?: {
        sourceUrl: string;
        altText: string;
      } | null;
    }
  }
}

const { content } = Astro.props;

// Asegurarnos de que los datos est√©n disponibles y con valores por defecto
const featuredPosts = content.meta.featuredPosts || [];
const regularPosts = content.meta.regularPosts || [];
const pagination = content.meta.pagination || null;
---

<div>
  {content.type === 'post' && (
    <PostContent post={content.data} />
  )}

  {content.type === 'category' && (
    <div class="max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
      <CategoryContent
        category={content.data}
        featuredPosts={featuredPosts}
        regularPosts={regularPosts}
        pagination={pagination}
      />
    </div>
  )}

  {content.type === 'page' && (
    <div class="max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
      <PageContent page={content.data} />
    </div>
  )}
</div>
