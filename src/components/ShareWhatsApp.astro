---
/**
 * Componente para compartir en WhatsApp
 */
interface Props {
  url?: string;
  title?: string;
}

const { url = '', title = '' } = Astro.props;

// Construir la URL para compartir en WhatsApp
const currentUrl = url || Astro.url.href;
const shareText = encodeURIComponent(`${title} - ${currentUrl}`);
const whatsappUrl = `https://api.whatsapp.com/send?text=${shareText}`;
---

<a 
  href={whatsappUrl}
  target="_blank"
  rel="noopener noreferrer"
  class="inline-flex items-center gap-2 border-2 border-[#25D366] dark:border-[#1da851] bg-white dark:bg-gray-800 text-[#25D366] dark:text-[#1da851] hover:bg-[#25D366]/10 dark:hover:bg-[#1da851]/10 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 shadow-sm hover:shadow"
  aria-label="Compartir en WhatsApp"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
    <path d="M20.52 3.48C18.24 1.2 15.24 0 12 0S5.76 1.2 3.48 3.48C1.2 5.76 0 8.76 0 12c0 2.1.54 4.14 1.56 5.94L0 24l6.24-1.56C8.04 23.46 10.02 24 12 24c3.24 0 6.24-1.2 8.52-3.48C22.8 18.24 24 15.24 24 12s-1.2-6.24-3.48-8.52zM12 21.96c-1.86 0-3.66-.48-5.22-1.38l-.36-.24-3.84.96.96-3.84-.24-.36c-.9-1.56-1.38-3.36-1.38-5.22 0-2.76 1.08-5.34 3.06-7.32S9.24 1.92 12 1.92s5.34 1.08 7.32 3.06S22.08 9.24 22.08 12s-1.08 5.34-3.06 7.32S14.76 21.96 12 21.96zm5.4-7.38c-.3-.15-1.74-.87-2.01-.96-.27-.09-.48-.15-.69.15-.21.3-.81.96-.99 1.17-.18.21-.36.24-.66.09-.3-.15-1.26-.48-2.4-1.5-.9-.81-1.5-1.8-1.68-2.1-.18-.3-.03-.45.12-.6.15-.15.3-.36.45-.54.15-.18.21-.3.3-.51.09-.21.06-.39-.03-.54-.09-.15-.69-1.65-.96-2.25-.24-.57-.48-.48-.69-.48h-.6c-.21 0-.54.09-.84.39-.3.3-1.14 1.11-1.14 2.7s1.17 3.12 1.32 3.33c.15.21 2.1 3.18 5.1 4.47.72.3 1.26.48 1.68.63.72.24 1.38.21 1.89.12.57-.09 1.74-.72 1.98-1.41.24-.69.24-1.29.18-1.41-.06-.12-.27-.21-.57-.36z"/>
  </svg>
  <span>Compartir</span>
</a>
